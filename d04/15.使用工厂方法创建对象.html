<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      //创建一个对象
      var obj = {
        name: "sunwukong",
        age: 18,
        gender: "nan",
        sayName: function () {
          console.log(this.name);
        },
      };

      /*  
      使用工厂方法创建对象
        通过该方法可以大批量的创建对象
    */
      function created(name, age, gender) {
        var obj = new Object();

        //向对象中添加属性
        obj.name = name;
        obj.age = age;
        obj.gender = gender;
        obj.sayName = function () {
          console.log(this.name);
        };
        return obj;
      }

      var obj1 = created("1", 1, "11");
      var obj2 = created("2", 2, "22");
      var obj3 = created("3", 3, "33");
      obj2.sayName();

      /*  
      使用工厂方法创建的对象，使用的构造函数都是Object
        所以创建的对象都是Object类型，就导致我们无法区分出多种不同类型的对象
    */
      /*  
      创建一个构造函数，专门用来创建Person对象的
        构造函数就是一个普通函数，创建方式和普通函数没有区别
        不同的是构造函数习惯上首字母大写

      构造函数和普通函数的区别就是调用方式的不同
        普通函数是直接调用，而构造函数需要使用new关键字来调用
    */
      function Person(name, age, gender) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.sayName = function () {
          alert(this.name);
        };
      }
      var per1 = new Person("1", 1, "11");
      var per2 = new Person("2", 2, "22");
      var per3 = new Person("3", 3, "33");
      /*  
      构造函数的执行流程
        1、立即创建一个新的对象
        2、将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象
        3、逐行执行函数中的代码
        4、将新创建的对象作为返回值返回

      使用同一个构造函数创建的对象，我们称为一类对象，也将一个构造函数称为一个类
      我们将通过一个构造函数创建的对象称为是该类的实例
    */

      //使用instanceof可以检查一个对象是否是一个类的实例
      console.log(per1 instanceof Person);
      //所有的对象都是Object的后代
      console.log(per1 instanceof Object);

      /*  
      总结：this
        1、当以函数的形式调用时，this是window
        2、当以方法的形式调用时，谁调用方法this就是谁
        3、当以构造函数的形式调用时，this就是新创建的那个对象
    
    */
    </script>
  </head>
  <body></body>
</html>
